![Imagem do dashboard](./img/dashboard.png)

---

## Projeto: Monitoramento de infraestrutura com Zabbix

Este projeto oferece uma solu√ß√£o robusta e escal√°vel para **monitoramento de infraestrutura**, utilizando o poder do Zabbix, um software de c√≥digo aberto l√≠der em monitoramento de rede e sistemas. Desenvolvido para flexibilidade, ele se adapta facilmente a diversos ambientes, garantindo que voc√™ tenha visibilidade total sobre a sa√∫de e performance dos seus sistemas.
O projeto visa a cria√ß√£o de um ambiente completo rodando localmente via docker e docker compose para facilitar a execu√ß√£o, configura√ß√£o e gerenciamento dos servi√ßos do Zabbix.

---

### üíª Tecnologias envolvidas

* **Zabbix (`alpine-7.2-latest`):** A plataforma central de monitoramento;
* **MySQL (8.0):** Serve como o backbone de banco de dados, escolhido pela sua estabilidade e compatibilidade otimizada com o Zabbix;
* **Docker:** Para orquestra√ß√£o eficiente e isolamento dos servi√ßos, garantindo um ambiente consistente e f√°cil de gerenciar;
* **YAML:** Utilizado para a configura√ß√£o intuitiva e leg√≠vel dos servi√ßos via Docker Compose.

---

### ‚öôÔ∏è Configura√ß√µes essenciais

Para colocar o projeto em funcionamento, siga estas etapas simples de configura√ß√£o:

1.  **Instale docker e docker compose:** Certifique-se de que ambos estejam devidamente instalados no seu sistema operacional;
2.  **Documenta√ß√£o docker e docker compose:** Na documenta√ß√£o oficial consta o passo a passo para instala√ß√£o do docker e docker compose nos principais sistemas operacionais. (https://docs.docker.com/desktop/)


---

## Iniciando o projeto

Para colocar seu monitoramento em funcionamento, siga estas etapas:

1.  **Clone o reposit√≥rio:** Baixe o c√≥digo do projeto para o seu ambiente local;
    ```bash
    git clone https://github.com/mizaelZuza/zabbix-monitoramento.git
    cd zabbix-monitoramento
    ```

2.  **Crie e configure o arquivo `.env`:** Este arquivo, localizado no diret√≥rio raiz do projeto (o mesmo para onde voc√™ navegou no passo anterior, `zabbix-monitoramento`), abrigar√° suas **vari√°veis de ambiente sens√≠veis**. **√â crucial que esse arquivo seja criado antes de iniciar os cont√™ineres;**

    Crie um arquivo chamado `.env` e adicione as seguintes vari√°veis, substituindo os valores entre par√™nteses pelos seus pr√≥prios:
    ```
    MYSQL_DATABASE=(nome do database)
    MYSQL_USER=(nome do usu√°rio)
    MYSQL_PASSWORD=(senha do usuario do banco)
    MYSQL_ROOT_PASSWORD=(senha root do banco)
    ZABBIX_SERVER_PORT=10051
    ZABBIX_WEB_HTTP_PORT=8080
    ZABBIX_WEB_HTTPS_PORT=8443
    ```
    **Proteja suas credenciais:** Adicione `.env` ao seu arquivo `.gitignore` para prevenir que suas credenciais sejam acidentalmente versionadas em reposit√≥rios p√∫blicos.

3.  **Inicie os cont√™ineres:** No diret√≥rio do projeto (`zabbix-monitoramento`), execute o comando para iniciar todos os servi√ßos em segundo plano:
    ```bash
    docker compose up -d
    ```

4.  **Acesse o Zabbix:** Uma vez que os cont√™ineres estejam em execu√ß√£o, voc√™ pode acessar a interface web do Zabbix utilizando a porta que voc√™ definiu em `ZABBIX_WEB_HTTP_PORT` (por padr√£o, `8080`) ou `ZABBIX_WEB_HTTPS_PORT` (se configurado, por padr√£o `8443`):
    * **HTTP:** `http://localhost:${ZABBIX_WEB_HTTP_PORT}` (ex: `http://localhost:8080`)
    * **HTTPS:** `https://localhost:${ZABBIX_WEB_HTTPS_PORT}` (ex: `https://localhost:8443`)

5.  **Fa√ßa login:** Utilize as credenciais padr√£o para seu primeiro acesso:
    * **Usu√°rio:** `Admin`
    * **Senha:** `zabbix`
    * **Recomenda√ß√£o:** Altere a senha padr√£o imediatamente ap√≥s o primeiro login para garantir a seguran√ßa.

6.  **Configure seu monitoramento:** O Zabbix estar√° pronto para voc√™ adicionar hosts, templates e configurar suas necessidades espec√≠ficas de monitoramento.

---

### Gerenciando os cont√™ineres (parar | pausar)

No diret√≥rio do projeto, utilize os seguintes comandos para gerenciar seus cont√™ineres:

1.  **Parar e remover (permanente):** Este comando para e remove os cont√™ineres. Se voc√™ n√£o usar `-v`, os volumes de dados (como o do MySQL) persistir√£o;
    ```bash
    docker compose down
    ```
2.  **Parar e remover tudo (limpeza completa):** Este comando para e remove os cont√™ineres **e todos os volumes de dados** associados ao projeto (incluindo dados do MySQL);
    ```bash
    docker compose down -v
    ```
3.  **Pausar cont√™ineres:** Suspende temporariamente a execu√ß√£o dos cont√™ineres, mantendo seu estado na mem√≥ria;
    ```bash
    docker compose pause
    ```
4.  **Retomar cont√™ineres pausados:** Reinicia a execu√ß√£o dos cont√™ineres previamente pausados.
    ```bash
    docker compose unpause
    ```

---

### üìù Notas do projeto

* Este projeto foi arquitetado utilizando **Zabbix com MySQL** como backend de banco de dados para robustez e performance.
* A estrutura dos cont√™ineres e seus servi√ßos √© definida no arquivo **`docker-compose.yml`**, oferecendo uma vis√£o clara da sua stack de monitoramento.
* O arquivo **`zabbix-mysql.cnf`** cont√©m configura√ß√µes espec√≠ficas do MySQL para otimizar sua performance com o Zabbix (charset, collation, etc.).

---

### üìä Configura√ß√£o inicial de monitoramento

Para iniciar rapidamente o monitoramento, voc√™ pode importar hosts de exemplo e criar um dashboard b√°sico:

#### 1. Importar hosts de exemplo

* Na pasta `data`, voc√™ encontrar√° um arquivo **`exemplo-hosts.yaml`** com configura√ß√µes para monitorar o Google, CloudFlare e GitHub.
* Importe esses hosts no Zabbix:

    1.  No menu esquerdo, v√° para **Data collection** e clique em **Hosts**;

        ![Imagem do menu Data Collection](./img/image.png)
            
    2.  No canto superior direito, clique no bot√£o **`Import`**;

        ![Imagem do bot√£o Import](./img/image2.png)

    3.  Selecione o arquivo `./data/exemplo-hosts.yaml` e siga as instru√ß√µes;
    4.  Ap√≥s a importa√ß√£o, os tr√™s hosts estar√£o configurados e prontos para serem monitorados.

        ![Hosts configurados](./img/image3.png)

#### 2. Criar um dashboard b√°sico

Crie um dashboard para visualizar os dados coletados:

1.  No menu esquerdo, clique em **`Dashboards`**;

    ![Imagem do menu dashboards](./img/image4.png)

2.  No canto superior direito, clique em **`Create Dashboard`**;

    ![Imagem do bot√£o create dashboard](./img/image5.png)

3.  Defina o **propriet√°rio (`Owner`)** do dashboard (geralmente seu pr√≥prio usu√°rio) e d√™ um **nome (`Name`)** para ele. Por fim clique em **Apply**;

    ![Imagem de cria√ß√£o do dashboard](./img/image6.png)

4.  Ap√≥s criar o dashboard, clique em uma √°rea vazia para adicionar um widget:
    * Escolha o **tipo (`Type`)** de widget desejado (por exemplo, `Graph` para gr√°ficos);
    * D√™ um **nome (`Name`)** ao componente;
    * Defina um **intervalo de atualiza√ß√£o (`Refresh Interval`)**;
    * Em **par√¢metros do host (`Host Params`)**, selecione o host e o item que deseja monitorar;
    * Em **par√¢metros do item (`Item Params`)**, configure a representa√ß√£o visual (cor, formato, etc.);
    * Por fim, clique em **`Add`**.

    ![Imagem de configura√ß√£o de widget do dashboard](./img/image7.png)

---